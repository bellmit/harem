<form id="editAttachment" name="editAttachment">
    <table class="table">
        <tr>
            <th><span class="spColor">*</span>名称：</th>
            <td>
                <input type="text" class="inpCtlBlock limit-text" name="inputFileTitle" id="inputFileTitle"
                       value="$!{attachmentVO.inputFileTitle}">
                <span class="num">0/38</span>
            </td>
        </tr>
        <tr>
            <th><span class="spColor">*</span>时长：</th>
            <td>
                <div class="input-group inpSingle">
                    <select class="form-control" id="fen" name="fen">
                        <option value="0">1</option>
                        <option value="1">2</option>
                        <option value="2">3</option>
                    </select>
                    <span class="input-group-addon fix-border fix-padding dateInpCenter">分</span>
                    <select class="form-control" id="miao" name="miao">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                    </select>
                    <span class="input-group-addon fix-padding dateInpCenter">秒</span>
                </div>
            </td>
        </tr>
        <tr>
            <th><span class="spColor">*</span>用途：</th>
            <td>
                <select class="form-control inpCtlBlock" id="scope" name="scope">
                    #foreach($mediaFileScope in $mediaFileScopeList)
                        <option value="$!{mediaFileScope.value}" #if($mediaPageQuery.scope == $mediaFileScope.value)
                                selected #end>$!{mediaFileScope.desc}</option>
                    #end
                </select>
            </td>
        </tr>
        <tr>
            <th><span class="spColor">*</span>备注：</th>
            <td>
                <input type="text" class="inpCtlBlock limit-text" id="remark" name="remark"
                       value="$!{attachmentVO.remark}"><span class="num">0/38</span>
            </td>
        </tr>
    </table>
    <script type="text/javascript">
        var maxNum = 38;
        $(function () {
            var limitTexts = $(".limit-text");

            limitTexts.each(function() {
                var txtlength = $(this).val().length;
                $(this).next(".num").text(txtlength + " / " + maxNum);
            });

            limitTexts.on("input propertychange", function() {
                var input = $(this);
                var txt = input.val();
                var currnum = txt.length;
                if (currnum > maxNum) {
                    currnum = maxNum;
                    input.val(txt.substr(0, maxNum));
                }
                input.next(".num").text(currnum + " / " + maxNum);
                return false;
            });
        })

        function getItem() {
            return {
                name: $("#name").val(),
                fen: $("#fen").val(),
                miao: $("#miao").val(),
                yongtu: $("#yongtu").val(),
                remark: $("#remark").val()
            }
        }
    </script>
</form>
