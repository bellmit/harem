[1mdiff --git a/palace-biz/src/main/java/com/yimayhd/palace/service/impl/PromotionCommServiceImpl.java b/palace-biz/src/main/java/com/yimayhd/palace/service/impl/PromotionCommServiceImpl.java[m
[1mindex 6b91296..bda21bc 100644[m
[1m--- a/palace-biz/src/main/java/com/yimayhd/palace/service/impl/PromotionCommServiceImpl.java[m
[1m+++ b/palace-biz/src/main/java/com/yimayhd/palace/service/impl/PromotionCommServiceImpl.java[m
[36m@@ -514,10 +514,10 @@[m [mpublic class PromotionCommServiceImpl implements PromotionCommService {[m
             actPromotionEditDTO.setDelPromotionIdList(delPromotionDOIds);[m
             ActResultSupport baseResult = activityPromotionServiceRef.updateActivityPromotion(actPromotionEditDTO);[m
             if(baseResult == null){[m
[31m-                log.error("PromotionCommService.modify error: " + actPromotionEditDTO);[m
[32m+[m[32m                log.error("PromotionCommService.addGift update error: " + actPromotionEditDTO +"baseResult:"+baseResult);[m
                 throw new BaseException("ËøîÂõûÁªìÊûúÈîôËØØ");[m
             } else if(!baseResult.isSuccess()){[m
[31m-                log.error("PromotionCommService.modify-promotionPublishService.updPromotion error:" + actPromotionEditDTO);[m
[32m+[m[32m                log.error("PromotionCommService.addGift update error:" + actPromotionEditDTO +"baseResult:"+baseResult);[m
                 throw new BaseException(baseResult.getMsg());[m
             }[m
         } else {[m
[36m@@ -525,10 +525,10 @@[m [mpublic class PromotionCommServiceImpl implements PromotionCommService {[m
             promotionEditDTO.setAddPromotionDOList(addPromotionDOList);[m
             ActResultSupport baseResult = activityPromotionServiceRef.saveActivityPromotion(promotionEditDTO);[m
             if(baseResult == null){[m
[31m-                log.error("PromotionCommService.add error: " + promotionEditDTO);[m
[32m+[m[32m                log.error("PromotionCommService.addGift save  error: " + promotionEditDTO);[m
                 throw new BaseException("ËøîÂõûÁªìÊûúÈîôËØØ");[m
             } else if(!baseResult.isSuccess()){[m
[31m-                log.error("PromotionCommService.add error:" + promotionEditDTO);[m
[32m+[m[32m                log.error("PromotionCommService.addGift save error:" + promotionEditDTO);[m
                 throw new BaseException(baseResult.getMsg());[m
             }[m
         }[m
[36m@@ -537,7 +537,11 @@[m [mpublic class PromotionCommServiceImpl implements PromotionCommService {[m
     }[m
 [m
     public boolean updateGiftEndTime(ActActivityVO actActivityVO) throws Exception {[m
[31m-        //@TODO check time;[m
[32m+[m[32m        Boolean checkResult = checkGift(actActivityVO);[m
[32m+[m[32m        if(!checkResult){[m
[32m+[m[32m            log.error("PromotionCommService.updateGiftEndTime error: " + actActivityVO);[m
[32m+[m[32m            throw new BaseException("ÊúâÈáçÂ§çÊ¥ªÂä®");[m
[32m+[m[32m        }[m
         Date endDate = new Date();[m
         try {[m
             endDate = DateUtil.convertStringToDateUseringFormats(actActivityVO.getEndDateStr(), DateUtil.DAY_HORU_FORMAT);[m
[36m@@ -562,10 +566,10 @@[m [mpublic class PromotionCommServiceImpl implements PromotionCommService {[m
 [m
         ActResultSupport baseResult = activityPromotionServiceRef.updateActivityPromotion(actPromotionEditDTO);[m
         if(baseResult == null){[m
[31m-            log.error("PromotionCommService.modify error: " + actPromotionEditDTO);[m
[32m+[m[32m            log.error("PromotionCommService.updateGiftEndTime error: " + actPromotionEditDTO);[m
             throw new BaseException("ËøîÂõûÁªìÊûúÈîôËØØ");[m
         } else if(!baseResult.isSuccess()){[m
[31m-            log.error("PromotionCommService.modify-promotionPublishService.updPromotion error:" + actPromotionEditDTO);[m
[32m+[m[32m            log.error("PromotionCommService.updateGiftEndTime error:" + actPromotionEditDTO);[m
             throw new BaseException(baseResult.getMsg());[m
         }[m
         return true;[m
