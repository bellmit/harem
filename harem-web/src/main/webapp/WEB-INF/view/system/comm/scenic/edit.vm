<link rel="stylesheet" href="$utilWebconfig.getStaticResourcesPath()/resources/css/common.css"/>
<link rel="stylesheet" href="$utilWebconfig.getStaticResourcesPath()/resources/css/clubTable.css"/>
<script src="$!{utilWebconfig.getStaticResourcesPath()}/resources/js/layerModal.js" type="text/javascript"></script>


<div class="tab-content grogInfoWrap"  style="">
<form id="saveScenic">
    <div class="tab-pane active" id="grogshopInfo">
        <div class="createHotrlTable">
     		 <input type="hidden" name="itemDO.categoryId" value="$!category.id">
                    <input type="hidden" name="itemDO.rootCategoryId" value="$!category.parent.id">
                    #*商品类型，此页面全是普通商品发布 新增的时候需要，修改的时候不更新此字段*#
                    #*<input type="hidden" name="itemType" value="#if($!itemType)$!itemType#else#end">*#
                    <input type="hidden" name="itemDO.itemType" value="1">

                    #*pay_type 暂时设置为1*#
                    <input type="hidden" name="itemDO.payType" value="1">
                    #*source 来源暂时都为1*#
                    <input type="hidden" name="itemDO.source" value="1">

                    #*version 新增时为1*#
                    <input type="hidden" name="itemDO.version" value="1">
     		
            <table class="table">
                <tr>
                    <td>分类</td>
                    <td>景区</td>
                </tr>
                <tr>
                    <td><span class="spColor">*</span>景区</td>
                    <td>
                       	<input type="text" class="inpControl" name="" id="name" value="">
                       	<input type="hidden" class="inpControl" name="itemDO.outId" id="outId" value="">
						<input type="hidden" class="inpControl" name="itemDO.picUrls" id="picUrls" value="">
						<button type="button" class="btn btn-primary selectScenic">选择景区</button>
                    </td>
                </tr>
                <tr>
                    <td><span class="spColor">*</span>主题</td>
                    <td>
                      #foreach($tag in $tagResult)
                      	 <input type="checkbox" name="check" value="$!{tag.id}"><span>$!{tag.name}</span>
                    	#end
                    </td>
                </tr>
                <tr>
                    <td><span class="spColor">*</span>排序</td>
                    <td>
                    	
							<input type="text" class="inpCtlBlock" name="scenicDO.orderNum" id="" placeholder="请输入20个字以内">
						
					</td>
                </tr>
                <tr>
                    <td><span class="spColor">*</span>时间区间</td>
                    <td>用户可选入园时间为<input type="text" class="inpControl" name="endTime" id="" placeholder="请输入数字">天内</td>
                </tr>
            </table>
			<table class="table">
					<tr>
							<td>商品名称</td>
							<td>包含项目（100字内）</td>
							<td>入园限制（100字内）</td>
							<td>入园规则</td>
							<td>单价</td>
							<td>会员优惠额度</td>
							<td>会员限购</td>
					<tr>
						<tr>
							<td><input type="text" class="inpCtlBlock" name="itemDO.title"  placeholder="请输入数字"></td>
							<td><input type="text" class="inpCtlBlock" name="itemDO.subTitle" placeholder="请输入数字"></td>
							<td><textarea name="itemDO.oneWord" id="description" rows="3" class="form-control"
                                      placeholder="请输入500字以内"></textarea></td>
                             
							<td>提前<input type="text" class="inpCtlBlock" name="startDayTime" id="phoneNum" placeholder="请输入数字">天
								<input type="text" class="inpCtlBlock" name="startHourTime" id="phoneNum" placeholder="请输入数字">点前预定
							</td>
							<td><input type="text" class="inpCtlBlock" name="itemDO.price" id="phoneNum" placeholder="请输入数字"></td>
							<td><input type="text" class="inpCtlBlock" name="" id="phoneNum" placeholder="请输入数字"></td>
							<td><input type="text" class="inpCtlBlock" name="" id="phoneNum" placeholder="请输入数字"></td>
					<tr>
			</table>
        </div>
    </div>
    <button  type="submit" class="btn btn-primary">保存</button>
	</form>
</div>





<script>
   $(function(){
   /*弹出框**/
        $('.selectScenic').click(function(){
         	openModalForForm(actionDefaultPath + '/B2C/resourceForSelect/selectOneScenic','选择景区',function() {
				var sce = win.getItems();
				$("#name").val(sce.name);
				$("#outId").val(sce.id);
				$("#picUrls").val(sce.logoUrl);
				return true;
			});
        })
		/*提交**/
		$("#saveScenic").validate(
			{
				rules:{
					'name' : {
						required : true
					}
				},
				errorPlacement : function(error, element) { // 指定错误信息位置

					if (element.is(':radio') || element.is(':checkbox')
							|| element.is(':input')) { // 如果是radio或checkbox
						var eid = element.attr('name'); // 获取元素的name属性
						error.appendTo(element.parent()); // 将错误信息添加当前元素的父结点后面
					} else {
						error.insertAfter(element);
					}
				},
				submitHandler : function(form) {

					var options = {
						url : actionDefaultPath + "/B2C/comm/scenicManage/save",
						type : "post",
						dataType : "json",
						  success: function (data) {
                        if (data.status == 200) {
                            layer.alert('操作成功');
                          
                          
                        } else {
                          
                            layer.alert('操作失败');
                          
                        }
                    }
					};
					
					$(form).ajaxSubmit(options);
				},
				invalidHandler : function(form, validator) { // 不通过回调
					return false;
				}
			});
		
		
});




</script>