<link href="$utilWebconfig.getStaticResourcesPath()/resources/zui/lib/datetimepicker/datetimepicker.min.css" rel="stylesheet">
<script src="$utilWebconfig.getStaticResourcesPath()/resources/zui/lib/datetimepicker/datetimepicker.min.js" type="text/javascript"></script>
<link rel="stylesheet" href="$utilWebconfig.getStaticResourcesPath()/resources/css/common.css"/>
<h1>餐厅管理</h1>
<div>
    <form class="form-signin" id="restaurantListForm" name="restaurantListForm" action="$actionDefaultPath/B2C/resourceManage/restaurant/list" method="GET" role="form">
        <div class="inputGroup whole">
            <div class="input-group inpSingle">
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button">餐厅名称</button>
                </span>
                <input type="text" class="form-control" name="name" value="$!query.name" tabindex="1">
            </div>
			<div class="input-group inpSingle ">
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button">状态</button>
                </span>
               <select data-placeholder="请选择..." class="chosen-select form-control " name="state" tabindex="2">
		            <option value="">全部</option>
		            <option value="1">启用</option>
					<option value="2">停用</option>
      			</select>
            </div>
			<div class="input-group inpSingle ">
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button">区域</button>
                </span>
               <select data-placeholder="请选择..." class="chosen-select form-control " name="region" tabindex="3">
		            <option value="">全部</option>
		            <option value="1">云南</option>
      			</select>
            </div>
			<div class="input-group inpSingle">
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button">联系人</button>
                </span>
                <input type="text" class="form-control" name="contact" value="$!query.contact" tabindex="4">
            </div>
            <div class="input-group inpSingle">
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button">创建日期</button>
                </span>
                <input type="text" class='form-control form-date' placeholder='开始日期：yyyy-MM-dd' readonly name="createBeginDate" value="$utilDate.date2StringByDay($query.createBeginDate)">
                <span class="input-group-addon fix-border fix-padding">至</span>
                <input type="text" class='form-control form-date' placeholder='结束日期：yyyy-MM-dd' readonly name="createEndDate" value="$utilDate.date2StringByDay($query.createEndDate)">
            </div>
            <div class="btn-group">
                <button type="submit" class="btn btn-primary">查询</button>
            </div>
            <div class="btn-group">
                <button type="submit" class="btn btn-primary" onclick="resetForm();">重置</button>
            </div>
        </div>
          <div class="btn-toolbar" style="margin: 0;">
			<div class="btn-group">
                <button type="button" class="btn">添加餐厅</button>
			</div>
			<div class="btn-group">
                <button type="button" class="btn">批量启用</button>
                <button type="button" class="btn">批量停用</button>
            </div>
		  </div>
        <div class="tableGroup whole">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th colspan="2"></th>
                        <th>餐厅名称</th>
                        <th colspan="2">区域</th>
                        <th>基础价格</th>
                        <th>联系人</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody>
                  #foreach($item in $pageVo.itemList)
                    <tr>
                        <td><span>$!item.imageUrl</span></td>
						<td><span>$!item.name<br/>$!item.code</span></td>
                     	<td>$!item.state</td>
                     	<td>$!item.province.name</td>
						<td>$!item.city.name</td>
                     	<td>￥$!{item.basePrice}元起</td>
						<td>$!item.contactName<br/>$!item.contactPhone</td>
                     	<td>
							<button class="btn btn-primary LinkToInfo" type="button" item-id="$!item.id">查看</button>
							<button class="btn LinkToStop" type="button" item-id="$!item.id">停用</button>
						</td>
                    </tr>
				  #end
                </tbody>
            </table>
        </div>
    #*分页*#
	#parse("/page.vm")
    #pageStyle("restaurantListForm")
    </form>

    <!-- 退款模态框 -->
    <div class="modal fade" id="refundModal">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">关闭</span></button>
                    <h4 class="modal-title">对话框标题</h4>
                </div>
                <div class="modal-body dialogPoint">
                    <form class="form-signin" id="refundAddForm" action="/refundManage/add" method="POST" role="form">
                        <div class="form-group">
                            <ul class="formPoint">
                            	 <li> 退款金额：￥86.00   退款路径：支付宝/微信/银联 </li>
                                <li>
                                    <label for="refundMoney">退款金额</label>
                                    <input id="refundMoney" type="text" class="form-control refundMoney" placeholder="退款金额" name="refundMoney" value="">
                                </li>
                                <li>
                                    <label for="shouldRefundPoint">需返还积分</label>
                                    <input type="text" class="form-control shouldRefundPoint pointShow" placeholder="需返还积分" name="shouldRefundPoint" value="" readonly="">
                                </li>
                                <li>
                                    <label for="availablePoint">可返还积分</label>
                                    <input type="text" class="form-control availablePoint pointShow" placeholder="可返还积分" name="availablePoint" value="" readonly="">
                                </li>
                            </ul>
                            <button id="btnSubmit" class="btn btn-large btn-block btn-primary" type="button" disabled="">提交</button>
                        </div>
                    </form>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                    <button type="button" class="btn btn-primary">确定</button>
                </div>

            </div>
        </div>
    </div>

</div>
<script>
	// 日期输入框初始化
	$(".form-date").datetimepicker(
            {
                language:  "zh-CN",
                weekStart: 1,
                todayBtn:  1,
                autoclose: 1,
                todayHighlight: 1,
                startView: 2,
                minView: 2,
                forceParse: 0,
                format: "yyyy-mm-dd"
            });
	// 列表查看按钮绑定
	$(".LinkToInfo").click(function() {
		var id = $(this).attr("item-id"); 
		top.tabsAdd('',"/B2C/resourceManage/restaurant/"+id,2,"查看餐厅详情");
	});
	// 列表停用按钮绑定
	$(".LinkToStop").click(function() {
		// 还未实现
		layer.alert($(this).attr("item-id"));
	});
	
    $(function(){
		
    });
</script>