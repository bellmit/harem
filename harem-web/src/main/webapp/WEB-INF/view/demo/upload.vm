<html>
    <head>
        <title>登陆</title>
        <script src="/resources/js/md5.min.js" type="text/javascript"></script>
        <script src="/resources/js/jQuery.min.js" type="text/javascript"></script>
        <script src="/resources/js/ajaxfileupload.js" type="text/javascript"></script>
        <link href="/resources/css/bootstrap.min.css" rel="stylesheet" type="text/css">
        <link href="/resources/css/login.css" rel="stylesheet" type="text/css">
        <script type="text/javascript">
            function addTr(){
                $("#fileTable").append("<tr><td><input type='file' name='files'/></td><td><input type='button' value='删除' onclick='javascript:deleteTr(this);'/></td></tr>");
            }
            function deleteTr(_tr){
                $(_tr).parent().parent().remove();
            }
            $(function () {
                $("#upload").click(function () {
                    //ajaxFileUpload();
                })
            })
            function ajaxFileUpload() {
                $.ajaxFileUpload
                (
                        {
                            url: '/upload/file', //用于文件上传的服务器端请求地址
                            secureuri: false, //是否需要安全协议，一般设置为false
                            fileElementId: 'fileID', //文件上传域的ID
                            dataType: 'json', //返回值类型 一般设置为json
                            success: function (data)  //服务器成功响应处理函数
                            {
                                alert(JSON.stringify(data));
                            },
                            error: function (data, status, e)//服务器响应失败处理函数
                            {
                                alert(e);
                            }
                        }
                )
                return false;
            }
        </script>



    </head>
    <body>
        <form name="myform" id="myform" action="/upload/file" method="post" enctype="multipart/form-data">
            <div>
                <label>上传图片</label>
                    <table id="fileTable">
                        <tr>
                            <td><input type="file" id="fileID" name="file" /></td>
                            <td><input type="button" value="添加" onclick="javascript:addTr();"/></td>
                        </tr>
                    </table>
            </div>
            <button class="btn btn-lg btn-primary btn-block" id="upload" type="submit">提交</button>
        </form>
    </body>
</html>